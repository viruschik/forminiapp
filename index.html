<!doctype html>
<html lang="ru" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Тестмаркет — Mini App v3.1.1</title>
    <meta name="color-scheme" content="light dark" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="./assets/styles.css?v=3.1.1" />
  </head>
  <body>
    <div id="app" class="app">
      <header class="topbar">
        <button id="burgerBtn" aria-label="menu" class="icon-btn" title="Меню">
          <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </button>
        <div class="spacer"></div>
        <div class="controls">
          <div class="lang control">
            <button id="langBtn" class="chip" title="Язык"><span id="langLabel">RU</span> ▾</button>
            <div id="langMenu" class="menu" hidden>
              <button class="menu-item active" data-lang="ru" id="langRu">Русский</button>
              <button class="menu-item" data-lang="en" id="langEn">English</button>
            </div>
          </div>
          <div class="theme control">
            <button id="themeBtn" class="chip" title="Тема"><span id="themeLabel">Тема</span> ▾</button>
            <div id="themeMenu" class="menu" hidden>
              <button class="menu-item" data-theme="light" id="themeLight">Светлая</button>
              <button class="menu-item" data-theme="dark"  id="themeDark">Тёмная</button>
              <button class="menu-item" data-theme="auto"  id="themeAuto">Авто</button>
            </div>
          </div>
        </div>
      </header>

      <aside id="sidebar" class="sidebar" aria-hidden="true">
        <div class="sidebar-content">
          <div class="sidebar-header">
            <h2 id="faqTitle">FAQ</h2>
            <button id="closeSidebar" class="icon-btn" aria-label="close">
              <span class="bar x"></span><span class="bar x"></span>
            </button>
          </div>

          <div id="faqList" class="faq scroll-area">
            <details><summary id="q1">Что такое Telegram Stars?</summary><p id="a1">Внутренняя валюта Telegram для цифровых товаров и сервисов.</p></details>
            <details><summary id="q2">Как оплатить в TON?</summary><p id="a2">Пока заглушка. Позже подключим TON Connect / кошельки.</p></details>
            <details><summary id="q3">Как оплатить картой?</summary><p id="a3">Сейчас заглушка. Будет подключён провайдер (эквайер) с 3‑D Secure.</p></details>
            <details><summary id="q4">Сколько ждать зачисления?</summary><p id="a4">Обычно секунды; в исключениях — до 10 минут.</p></details>
            <details><summary id="q5">Оплата прошла, но ничего не получил</summary><p id="a5">Напишите нам: укажите @username и время оплаты — разберёмся.</p></details>
          </div>

          <div class="sidebar-footer fixed">
            <div class="support">
              <div class="support-title" id="supportTitle">Контакты поддержки</div>
              <button id="supportBtn" class="primary">Написать в поддержку</button>
            </div>
          </div>
        </div>
      </aside>
      <div id="backdrop" class="backdrop" hidden></div>

      <main class="main">
        <div class="center">
          <h1 class="headline" id="welcomeTitle">Добро пожаловать на <span class="brand">Тестмаркет</span></h1>

          <section class="picker">
            <button id="actionPicker" class="picker-btn" aria-expanded="false">
              <span id="pickerLabel">Выберите, что хотите сделать</span> ▾
            </button>
            <div id="actionMenu" class="picker-menu" hidden>
              <button class="picker-item" data-action="premium_buy" id="actPremium">Купить Premium</button>
              <button class="picker-item" data-action="stars_buy" id="actBuyStars">Купить Stars</button>
              <button class="picker-item" data-action="stars_sell" id="actSellStars">Продать Stars</button>
            </div>
          </section>

          <section id="formArea" class="card placeholder">
            <p id="formPlaceholder">Выберите действие, чтобы продолжить.</p>
          </section>

          <div id="toast" class="toast" hidden>
            <div class="toast-body">
              <button id="toastClose" class="icon-btn small" aria-label="close"><span class="bar x"></span><span class="bar x"></span></button>
              <div id="toastText">Оплата на указанный адрес пройдёт в течение нескольких минут.</div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <button id="fakeMainButton"></button>
    <script src="./assets/app.js?v=3.1.1"></script>
  </body>
</html>
